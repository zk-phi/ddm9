# DDM9

名刺サイズの９キーパッドです。名刺としてもワンチャン使えるものを想定してデザインしました。

販売予定はいまのところありません。 meishi 交換しましょう。

## イメージ

表

![front](imgs/front.png)

裏

![back](imgs/back.png)

実装例

![built](imgs/built.jpeg)

## 免責事項

組み立て中・使用中のトラブルについては保証できません。 DIY の精神でチャレンジしてみてください。

## 工具

最低限必要なもの：

- ハンダ
  - 鉛入り (鉛フリー以外) のものの方が溶けやすくて簡単です
  - 鉛を取り込むと体に悪いので、作業後は机の清掃や手洗いをしてください

- ハンダ小手
  - そこまで高くないので、温度調整機能があるものを買った方が断然簡単です (FX-600 がおすすめ)
  - 特に LED を付ける場合は熱で壊れてしまうので温度調整が必須です

- ハンダ小手台
  - アツアツのはんだごてが転がってくると熱いので、安定感のある (できれば専用の) 台が必要です

- 小手先クリーナー (タワシみたいなやつでもスポンジみたいなやつでも ok)

あったほうがよいもの：

- ハンダ吸い取り線 または ハンダ吸い取り機
  - 失敗した時のリカバリに必須です

- マルチテスター
  - ちゃんと繋がっているかどうかさえ判定できればいいので、怪しい安物で全然 ok です

## 部品表

基板の他に：

- コンスルー付き Pro Micro x1
  - 遊舎工房さんで購入する場合
    - https://yushakobo.jp/shop/promicro-spring-pinheader/
  - TALP KEYBOARD さんで購入する場合
    - https://talpkeyboard.stores.jp/items/5b24504ba6e6ee7ec60063e3
    - https://talpkeyboard.stores.jp/items/5e056626d790db16e2889233

- Kailh Choc スイッチ x9 (V2 でない)
  - https://yushakobo.jp/shop/pg1350/

- SK6812mini LED x9 (オプション)
  - 遊舎工房さんで購入する場合
    - https://yushakobo.jp/shop/sk6812mini-35/
  - 秋月電子さんで購入する場合
    - http://akizukidenshi.com/catalog/g/gI-15477/

- 完成した基板をいい感じに設置する手段

が必要です。

### 基板設置のアイデア

一番簡単なのは、基板の隅に大きめのプラ足・ゴム足などを貼り付けて設置です。このとき高さは 6mm 以上稼ぐようにしてください (部品が机に当たります)。万一部品が机に当たってしまってもショートしたりすることがないよう、金属製の机などは避けて作業してください。

次におそらく簡単なのは、名刺サイズの適当な板の四隅に 2mm 程度の穴を開けて、 M2 ネジ・高ナットを使って基板と連結することで底板になってもらう方法です (基板の四隅の穴はそのために開けてあります)。もしこの名刺基板を２枚ゲットすることができたら、片方を底板にしてしまえばネジ締めだけで完成するので楽チンです。

工作に慣れている方は、ケースを自作するのもアリです。

## 組立て
### Pro Micro にファームを焼く

https://github.com/zk-phi/keyboard-buildguide-common/blob/master/firmware.markdown

[こちら](https://github.com/zk-phi/qmk_firmware) に私の使っているキーマップがアップロードされています。

```
make handwired/ddm9:default:avrdude
```

### Pro Micro にコンスルーをつける

ProMicro を基板に連結するためのコンスルーを実装します。

温度調整機能のある小手を持っている場合は、 320 度程度が使いやすいです。

https://github.com/zk-phi/keyboard-buildguide-common/blob/master/conthrough.markdown

このキーボードでは ProMicro を「部品面が内側になるように」使用します。

### LED をつける (オプション)

LED の半田付けは難しいので、自信がない場合はスキップ推奨です。

また、熱で壊れてしまうので温度調整機能付きの半田ごてが必須です。

https://github.com/zk-phi/keyboard-buildguide-common/blob/master/neopixel.markdown

1, 2, ... 9 の順で直列に繋がっているので、この順番で実装してください。

### キースイッチをつける

キースイッチを 9 個取り付けます。順番などは気にしなくて ok です。

LED を取り付けていた場合は、ハンダ小手の温度を 320 度程度に戻して大丈夫です。アツアツの小手を LED にジューしてせっかくつけた LED を破壊しないようにだけ注意してください。

X の目印があるピンは Pro Micro の USB コネクタなどにぶつかってしまうので、基板の表面ギリギリでカットしてから、少なめのハンダで (山盛りにしないように) なるべく平らになるようにつけてあげてください。切った足は飛んで行ってしまうことがあり危険なので、指で押さえながら切りましょう。

Pro Micro を差し込んでみて、キー入力ができれば ok です。

### 活用する

適当な方法で基板を設置してあげてください。

キーマップは `qmk_firmware/keyboards/handwired/ddm9/keymaps/default/keymap.c` に定義されています。

このファイルを修正し、再度 Pro Micro にファームウェアを書き込むことで、好きなキーを入力することができます。

よく使うアプリケーションのショートカット (Web 会議のミュートなど) を設定しておくとちょっと便利です。

使用できるキーの一覧は [このあたり](https://docs.qmk.fm/#/ja/keycodes) を参照してください。
